{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine sprague_grundy_graph_game(n:int,moves:list[list[int]])->int Grundy of starting node 0 where moves[u] lists next nodes (DAG).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert sprague_grundy_graph_game(3,[[1,2],[2],[]])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_palindromic_subsequence(s:str)->int.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_palindromic_subsequence('bbbab')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement newton_backtracking_line_search(f,grad,hess,x0:list[float])->list[float] improve Newton with Armijo backtracking for small 2D convex f.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=lambda x:(x[0]-1)**2+2*(x[1]+2)**2; g=lambda x:[2*(x[0]-1),4*(x[1]+2)]; H=lambda x:[[2,0],[0,4]]; x=newton_backtracking_line_search(f,g,H,[0.0,0.0]); assert abs(x[0]-1)<1e-6 and abs(x[1]+2)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine expected_rolls_to_get_sequence(seq:list[int],sides:int)->float expected rolls to see sequence as consecutive outcomes (Aho automaton with DP).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["E=expected_rolls_to_get_sequence([1,2,3],6); assert E>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_falling_path_sum_no_adjacent_col(mat:list[list[int]])->int choose one element per row; adjacent rows cannot use same column.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_falling_path_sum_no_adjacent_col([[1,2,3],[1,2,3],[3,3,1]])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine brinell_hardness(P:float,D:float,d:float)->float HB=2P/(π D (D-√(D^2-d^2))).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["HB=brinell_hardness(3000,10,5); assert HB>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_cost_flow_simple(n:int,edges:list[tuple[int,int,int,int]],s:int,t:int,F:int)->int min cost to send F flow (small graphs).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=min_cost_flow_simple(3,[(0,1,2,1),(1,2,2,1),(0,2,1,5)],0,2,2); assert c==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement unification_first_order(term1,term2)->dict|None for terms built from variables (strings starting with '?'), constants, and functors f(args...). Occurs check required.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=unification_first_order(('f',['?x','a']),('f',['b','?y'])); assert u=={'?x':'b','?y':'a'}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_primes_upto(n:int)->int using sieve of Eratosthenes.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_primes_upto(10)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine sprague_grundy_graph_game(n:int,moves:list[list[int]])->int Grundy of starting node 0 where moves[u] lists next nodes (DAG).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert sprague_grundy_graph_game(3,[[1,2],[2],[]])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_palindromic_subsequence(s:str)->int.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_palindromic_subsequence('bbbab')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement newton_backtracking_line_search(f,grad,hess,x0:list[float])->list[float] improve Newton with Armijo backtracking for small 2D convex f.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=lambda x:(x[0]-1)**2+2*(x[1]+2)**2; g=lambda x:[2*(x[0]-1),4*(x[1]+2)]; H=lambda x:[[2,0],[0,4]]; x=newton_backtracking_line_search(f,g,H,[0.0,0.0]); assert abs(x[0]-1)<1e-6 and abs(x[1]+2)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine expected_rolls_to_get_sequence(seq:list[int],sides:int)->float expected rolls to see sequence as consecutive outcomes (Aho automaton with DP).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["E=expected_rolls_to_get_sequence([1,2,3],6); assert E>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_falling_path_sum_no_adjacent_col(mat:list[list[int]])->int choose one element per row; adjacent rows cannot use same column.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_falling_path_sum_no_adjacent_col([[1,2,3],[1,2,3],[3,3,1]])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine brinell_hardness(P:float,D:float,d:float)->float HB=2P/(π D (D-√(D^2-d^2))).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["HB=brinell_hardness(3000,10,5); assert HB>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_cost_flow_simple(n:int,edges:list[tuple[int,int,int,int]],s:int,t:int,F:int)->int min cost to send F flow (small graphs).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=min_cost_flow_simple(3,[(0,1,2,1),(1,2,2,1),(0,2,1,5)],0,2,2); assert c==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement unification_first_order(term1,term2)->dict|None for terms built from variables (strings starting with '?'), constants, and functors f(args...). Occurs check required.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=unification_first_order(('f',['?x','a']),('f',['b','?y'])); assert u=={'?x':'b','?y':'a'}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bhattacharyya_distance_gaussian_1d(mu0:float,s0:float,mu1:float,s1:float)->float.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["d=bhattacharyya_distance_gaussian_1d(0,1,1,1); assert 0<d<1.0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_mountain_removals(nums:list[int])->int returning the minimum removals to make nums a mountain array (strictly up then strictly down).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_mountain_removals([2,1,1,5,6,2,3,1])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine snake_to_camel(s:str)->str converting snake_case to lowerCamelCase. Print snake_to_camel('hello_world').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert snake_to_camel('hello_world')=='helloWorld'", "assert snake_to_camel('make_it_work')=='makeItWork'"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine wasserstein_barycenter_1d(samples:list[list[float]])->list[float] pointwise median of sorted samples (equal weights).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["b=wasserstein_barycenter_1d([[0,1,2],[0,2,4]]); assert b==[0,1.5,3.0]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine celsius_to_kelvin(c:float)->float using K=C+273.15.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert abs(celsius_to_kelvin(25.0)-298.15)<1e-9; assert abs(celsius_to_kelvin(-273.15)-0.0)<1e-9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine toeplitz_solve(c:list[float],r:list[float],b:list[float])->list[float] Levinson recursion (Hermitian Toeplitz).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["x=toeplitz_solve([1,0.5],[1,0.5],[1,0]); assert len(x)==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine integer_sqrt(n:int)->int returning floor(sqrt(n)) for n>=0. Print integer_sqrt(10).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert integer_sqrt(10)==3", "assert integer_sqrt(16)==4", "assert integer_sqrt(0)==0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts(n:int,edges:list[tuple[int,int]])->int returning the number of topological orders of a DAG (n<=15).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts(4,[(0,1),(0,2),(1,3),(2,3)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine rearrange_barcodes(barcodes:list[int])->list[int] rearrange to avoid adjacent equals.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["res=rearrange_barcodes([1,1,1,2,2,3]); assert all(res[i]!=res[i+1] for i in range(len(res)-1))"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_subarray(nums:list)->int (Kadane's algorithm). Print max_subarray([-2,1,-3,4,-1,2,1,-5,4]).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_subarray([-2,1,-3,4,-1,2,1,-5,4])==6", "assert max_subarray([1])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine network_resilience_percolation(adj:list[list[int]],remove_prob:float,seed:int=0)->float simulate node removal; return fraction of nodes in largest component averaged over 20 trials.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=network_resilience_percolation([[1,2],[0,2],[0,1]],0.1,seed=0); assert 0.5<f<=1.0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bernoulli_velocity(delta_p:float,rho:float)->float using v=sqrt(2ΔP/ρ).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert abs(bernoulli_velocity(4905,1000)-3.13209195)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine quadratic_sieve_trial(n:int)->list[int] very small quadratic sieve/trial division hybrid to factor semi-primes up to ~1e10 in tests; return factors any order.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["fs=sorted(quadratic_sieve_trial(1000003*1000033)); assert fs==[1000003,1000033]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_make_k_consecutive(nums:list[int],k:int])->int minimal adjacent swaps to group k ones (different name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_make_k_consecutive([1,0,0,1,0,1],2)==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine word_dictionary_regex supporting addWord(word) and search(pattern) where '.' matches any char (Trie+DFS). Return nothing; only implement class.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["wd=word_dictionary_regex(); wd.addWord('bad'); wd.addWord('dad'); wd.addWord('mad'); assert not wd.search('pad') and wd.search('bad') and wd.search('.ad') and wd.search('b..')"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine my_atoi64(s:str)->int parse 64-bit signed integer with spaces, sign, digits; clamp to [-2^63,2^63-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert my_atoi64('   -42')==-42 and my_atoi64('91283472332')==9223372036854775807"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine shortest_path_with_elimination(grid:list[list[int]],k:int)->int shortest path from (0,0) to (n-1,m-1) where up to k obstacles can be eliminated (4-dir BFS).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert shortest_path_with_elimination([[0,1,1],[1,1,0],[1,1,0]],1)==6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine shortest_path_with_portals(n:int,edges:list[tuple[int,int,int]],portals:list[tuple[int,int]])->int edges weighted; portals are zero-cost teleports between nodes (bidirectional).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert shortest_path_with_portals(4,[(0,1,1),(1,2,1),(2,3,1)],[(0,2)])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bernoulli_naive_bayes_train(X:list[list[int]],y:list[int])->tuple[list[float],list[list[float]]] return class priors and feature likelihoods with Laplace smoothing (binary features).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["pri,lik=bernoulli_naive_bayes_train([[1,0],[1,1],[0,1],[0,0]],[0,0,1,1]); assert len(pri)==2 and len(lik)==2 and len(lik[0])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bernoulli_naive_bayes_predict(priors:list[float],likelihoods:list[list[float]],x:list[int])->int predict class (0/1) via log-probabilities.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["y=bernoulli_naive_bayes_predict([0.5,0.5],[[0.8,0.2],[0.2,0.8]],[1,0]); assert y==0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine SnapshotArray(length:int) with set(index,val), snap()->int returns id, get(index,id)->int (LeetCode 1146).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["sa=SnapshotArray(3); sa.set(0,5); id=sa.snap(); sa.set(0,6); assert sa.get(0,id)==5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine difference_constraints_feasible(n:int,constraints:list[tuple[int,int,int]])->tuple[bool,list[int]] constraints of form x_v - x_u <= w. Return (True,dist) shortest potentials or (False,[]).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["ok,dist=difference_constraints_feasible(3,[(0,1,2),(1,2,2),(0,2,3)]); assert ok and dist[2]<=3 and difference_constraints_feasible(2,[(0,1,1),(1,0,-3)])[0]==False"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement elliptic_curve_point_ops(p:int,a:int,b:int,P:tuple[int,int],Q:tuple[int,int])->tuple for short Weierstrass y^2=x^3+ax+b over F_p with P+Q (use None for point at infinity). Also implement scalar_mul(k,P).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; P=(3,6); # On curve\nfrom random import randint\nR=elliptic_curve_point_ops(p,a,b,P,P); S=scalar_mul(2,P); assert R==S"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement survival_kaplan_meier(times:list[float],events:list[int])->list[tuple[float,float]] stepwise survival function values at unique event times (right-censored 0/1). Return list of (t,S(t)).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["S=survival_kaplan_meier([1,2,3,4],[1,0,1,1]); assert len(S)>=2 and 0<S[-1][1]<=1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine ph_strong_acid(C:float)->float pH=-log10(C) for monoprotic strong acid.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; assert abs(ph_strong_acid(1e-3)-3.0)<1e-12"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine poynting_vector_magnitude(E:float,B:float,mu0:float=4*3.141592653589793e-7)->float S=E^2/(mu0 c) with c=1/sqrt(mu0*epsilon0) and epsilon0=1/(mu0*c^2). Derive using c=299792458 exactly: S=E*B/μ0? Use S=E^2/(μ0 c) for plane wave with E=cB.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["S=poynting_vector_magnitude(1.0,1.0/299792458.0); assert 2.0e6<S<4.0e6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine rmsd_superposition_2d(A:list[tuple[float,float]],B:list[tuple[float,float]])->float minimal RMSD with rotation+translation.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["r=rmsd_superposition_2d([(0,0),(1,0)],[(1,1),(2,1)]); assert r<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine t_sne_pairwise_affinities(X:list[list[float]],perplexity:float)->list[list[float]] compute symmetric P (small N).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["P=t_sne_pairwise_affinities([[0,0],[1,1],[2,2]],5.0); assert len(P)==3 and len(P[0])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_flow_min_cost_assignment(cost:list[list[int]])->int solve assignment via min-cost max-flow.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=max_flow_min_cost_assignment([[4,1,3],[2,0,5],[3,2,2]]); assert c==5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hawkes_process_1d(mu:float,alpha:float,beta:float,T:float,seed:int=0)->list[float] Ogata thinning (small).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["ts=hawkes_process_1d(0.1,0.5,1.0,2.0,1); assert all(0<=t<=2.0 for t in ts)"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine finite_element_truss_1d(nodes:list[float],elements:list[tuple[int,int,float]],forces:list[float],fixed:set[int])->list[float] bar elements E*A per element; return displacements (small).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=finite_element_truss_1d([0,1],[ (0,1,1.0) ],[0,1],[0]); assert len(u)==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hamming_distance(a:int,b:int)->int.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert hamming_distance(1,4)==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine sprague_grundy_graph_game(n:int,moves:list[list[int]])->int Grundy of starting node 0 where moves[u] lists next nodes (DAG).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert sprague_grundy_graph_game(3,[[1,2],[2],[]])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_palindromic_subsequence(s:str)->int.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_palindromic_subsequence('bbbab')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement newton_backtracking_line_search(f,grad,hess,x0:list[float])->list[float] improve Newton with Armijo backtracking for small 2D convex f.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=lambda x:(x[0]-1)**2+2*(x[1]+2)**2; g=lambda x:[2*(x[0]-1),4*(x[1]+2)]; H=lambda x:[[2,0],[0,4]]; x=newton_backtracking_line_search(f,g,H,[0.0,0.0]); assert abs(x[0]-1)<1e-6 and abs(x[1]+2)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine expected_rolls_to_get_sequence(seq:list[int],sides:int)->float expected rolls to see sequence as consecutive outcomes (Aho automaton with DP).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["E=expected_rolls_to_get_sequence([1,2,3],6); assert E>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_falling_path_sum_no_adjacent_col(mat:list[list[int]])->int choose one element per row; adjacent rows cannot use same column.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_falling_path_sum_no_adjacent_col([[1,2,3],[1,2,3],[3,3,1]])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine brinell_hardness(P:float,D:float,d:float)->float HB=2P/(π D (D-√(D^2-d^2))).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["HB=brinell_hardness(3000,10,5); assert HB>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_cost_flow_simple(n:int,edges:list[tuple[int,int,int,int]],s:int,t:int,F:int)->int min cost to send F flow (small graphs).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=min_cost_flow_simple(3,[(0,1,2,1),(1,2,2,1),(0,2,1,5)],0,2,2); assert c==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement unification_first_order(term1,term2)->dict|None for terms built from variables (strings starting with '?'), constants, and functors f(args...). Occurs check required.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=unification_first_order(('f',['?x','a']),('f',['b','?y'])); assert u=={'?x':'b','?y':'a'}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou may think in a private scratchpad enclosed by <think>...</think>.\nThen provide the minimal correct solution.\nIf coding helps, include ONE final Python code block implementing the solution.\nTerminate with exactly one of the following lines and STOP:\n  Final answer: <short text>\n  {\"final_answer\": \"<short text>\"}<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine sprague_grundy_graph_game(n:int,moves:list[list[int]])->int Grundy of starting node 0 where moves[u] lists next nodes (DAG).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert sprague_grundy_graph_game(3,[[1,2],[2],[]])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement newton_backtracking_line_search(f,grad,hess,x0:list[float])->list[float] improve Newton with Armijo backtracking for small 2D convex f.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=lambda x:(x[0]-1)**2+2*(x[1]+2)**2; g=lambda x:[2*(x[0]-1),4*(x[1]+2)]; H=lambda x:[[2,0],[0,4]]; x=newton_backtracking_line_search(f,g,H,[0.0,0.0]); assert abs(x[0]-1)<1e-6 and abs(x[1]+2)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine expected_rolls_to_get_sequence(seq:list[int],sides:int)->float expected rolls to see sequence as consecutive outcomes (Aho automaton with DP).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["E=expected_rolls_to_get_sequence([1,2,3],6); assert E>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_falling_path_sum_no_adjacent_col(mat:list[list[int]])->int choose one element per row; adjacent rows cannot use same column.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_falling_path_sum_no_adjacent_col([[1,2,3],[1,2,3],[3,3,1]])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_cost_flow_simple(n:int,edges:list[tuple[int,int,int,int]],s:int,t:int,F:int)->int min cost to send F flow (small graphs).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=min_cost_flow_simple(3,[(0,1,2,1),(1,2,2,1),(0,2,1,5)],0,2,2); assert c==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement unification_first_order(term1,term2)->dict|None for terms built from variables (strings starting with '?'), constants, and functors f(args...). Occurs check required.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=unification_first_order(('f',['?x','a']),('f',['b','?y'])); assert u=={'?x':'b','?y':'a'}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_mountain_removals(nums:list[int])->int returning the minimum removals to make nums a mountain array (strictly up then strictly down).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_mountain_removals([2,1,1,5,6,2,3,1])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine wasserstein_barycenter_1d(samples:list[list[float]])->list[float] pointwise median of sorted samples (equal weights).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["b=wasserstein_barycenter_1d([[0,1,2],[0,2,4]]); assert b==[0,1.5,3.0]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine toeplitz_solve(c:list[float],r:list[float],b:list[float])->list[float] Levinson recursion (Hermitian Toeplitz).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["x=toeplitz_solve([1,0.5],[1,0.5],[1,0]); assert len(x)==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts(n:int,edges:list[tuple[int,int]])->int returning the number of topological orders of a DAG (n<=15).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts(4,[(0,1),(0,2),(1,3),(2,3)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine rearrange_barcodes(barcodes:list[int])->list[int] rearrange to avoid adjacent equals.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["res=rearrange_barcodes([1,1,1,2,2,3]); assert all(res[i]!=res[i+1] for i in range(len(res)-1))"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine network_resilience_percolation(adj:list[list[int]],remove_prob:float,seed:int=0)->float simulate node removal; return fraction of nodes in largest component averaged over 20 trials.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=network_resilience_percolation([[1,2],[0,2],[0,1]],0.1,seed=0); assert 0.5<f<=1.0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine quadratic_sieve_trial(n:int)->list[int] very small quadratic sieve/trial division hybrid to factor semi-primes up to ~1e10 in tests; return factors any order.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["fs=sorted(quadratic_sieve_trial(1000003*1000033)); assert fs==[1000003,1000033]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_make_k_consecutive(nums:list[int],k:int])->int minimal adjacent swaps to group k ones (different name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_make_k_consecutive([1,0,0,1,0,1],2)==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine word_dictionary_regex supporting addWord(word) and search(pattern) where '.' matches any char (Trie+DFS). Return nothing; only implement class.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["wd=word_dictionary_regex(); wd.addWord('bad'); wd.addWord('dad'); wd.addWord('mad'); assert not wd.search('pad') and wd.search('bad') and wd.search('.ad') and wd.search('b..')"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine my_atoi64(s:str)->int parse 64-bit signed integer with spaces, sign, digits; clamp to [-2^63,2^63-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert my_atoi64('   -42')==-42 and my_atoi64('91283472332')==9223372036854775807"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine shortest_path_with_elimination(grid:list[list[int]],k:int)->int shortest path from (0,0) to (n-1,m-1) where up to k obstacles can be eliminated (4-dir BFS).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert shortest_path_with_elimination([[0,1,1],[1,1,0],[1,1,0]],1)==6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine shortest_path_with_portals(n:int,edges:list[tuple[int,int,int]],portals:list[tuple[int,int]])->int edges weighted; portals are zero-cost teleports between nodes (bidirectional).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert shortest_path_with_portals(4,[(0,1,1),(1,2,1),(2,3,1)],[(0,2)])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bernoulli_naive_bayes_train(X:list[list[int]],y:list[int])->tuple[list[float],list[list[float]]] return class priors and feature likelihoods with Laplace smoothing (binary features).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["pri,lik=bernoulli_naive_bayes_train([[1,0],[1,1],[0,1],[0,0]],[0,0,1,1]); assert len(pri)==2 and len(lik)==2 and len(lik[0])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine SnapshotArray(length:int) with set(index,val), snap()->int returns id, get(index,id)->int (LeetCode 1146).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["sa=SnapshotArray(3); sa.set(0,5); id=sa.snap(); sa.set(0,6); assert sa.get(0,id)==5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine difference_constraints_feasible(n:int,constraints:list[tuple[int,int,int]])->tuple[bool,list[int]] constraints of form x_v - x_u <= w. Return (True,dist) shortest potentials or (False,[]).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["ok,dist=difference_constraints_feasible(3,[(0,1,2),(1,2,2),(0,2,3)]); assert ok and dist[2]<=3 and difference_constraints_feasible(2,[(0,1,1),(1,0,-3)])[0]==False"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement elliptic_curve_point_ops(p:int,a:int,b:int,P:tuple[int,int],Q:tuple[int,int])->tuple for short Weierstrass y^2=x^3+ax+b over F_p with P+Q (use None for point at infinity). Also implement scalar_mul(k,P).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; P=(3,6); # On curve\nfrom random import randint\nR=elliptic_curve_point_ops(p,a,b,P,P); S=scalar_mul(2,P); assert R==S"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement survival_kaplan_meier(times:list[float],events:list[int])->list[tuple[float,float]] stepwise survival function values at unique event times (right-censored 0/1). Return list of (t,S(t)).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["S=survival_kaplan_meier([1,2,3,4],[1,0,1,1]); assert len(S)>=2 and 0<S[-1][1]<=1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine poynting_vector_magnitude(E:float,B:float,mu0:float=4*3.141592653589793e-7)->float S=E^2/(mu0 c) with c=1/sqrt(mu0*epsilon0) and epsilon0=1/(mu0*c^2). Derive using c=299792458 exactly: S=E*B/μ0? Use S=E^2/(μ0 c) for plane wave with E=cB.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["S=poynting_vector_magnitude(1.0,1.0/299792458.0); assert 2.0e6<S<4.0e6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine rmsd_superposition_2d(A:list[tuple[float,float]],B:list[tuple[float,float]])->float minimal RMSD with rotation+translation.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["r=rmsd_superposition_2d([(0,0),(1,0)],[(1,1),(2,1)]); assert r<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine t_sne_pairwise_affinities(X:list[list[float]],perplexity:float)->list[list[float]] compute symmetric P (small N).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["P=t_sne_pairwise_affinities([[0,0],[1,1],[2,2]],5.0); assert len(P)==3 and len(P[0])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_flow_min_cost_assignment(cost:list[list[int]])->int solve assignment via min-cost max-flow.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=max_flow_min_cost_assignment([[4,1,3],[2,0,5],[3,2,2]]); assert c==5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hawkes_process_1d(mu:float,alpha:float,beta:float,T:float,seed:int=0)->list[float] Ogata thinning (small).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["ts=hawkes_process_1d(0.1,0.5,1.0,2.0,1); assert all(0<=t<=2.0 for t in ts)"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine finite_element_truss_1d(nodes:list[float],elements:list[tuple[int,int,float]],forces:list[float],fixed:set[int])->list[float] bar elements E*A per element; return displacements (small).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=finite_element_truss_1d([0,1],[ (0,1,1.0) ],[0,1],[0]); assert len(u)==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine sprague_grundy_graph_game(n:int,moves:list[list[int]])->int Grundy of starting node 0 where moves[u] lists next nodes (DAG).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert sprague_grundy_graph_game(3,[[1,2],[2],[]])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_palindromic_subsequence(s:str)->int.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_palindromic_subsequence('bbbab')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement newton_backtracking_line_search(f,grad,hess,x0:list[float])->list[float] improve Newton with Armijo backtracking for small 2D convex f.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=lambda x:(x[0]-1)**2+2*(x[1]+2)**2; g=lambda x:[2*(x[0]-1),4*(x[1]+2)]; H=lambda x:[[2,0],[0,4]]; x=newton_backtracking_line_search(f,g,H,[0.0,0.0]); assert abs(x[0]-1)<1e-6 and abs(x[1]+2)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine expected_rolls_to_get_sequence(seq:list[int],sides:int)->float expected rolls to see sequence as consecutive outcomes (Aho automaton with DP).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["E=expected_rolls_to_get_sequence([1,2,3],6); assert E>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_falling_path_sum_no_adjacent_col(mat:list[list[int]])->int choose one element per row; adjacent rows cannot use same column.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_falling_path_sum_no_adjacent_col([[1,2,3],[1,2,3],[3,3,1]])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine brinell_hardness(P:float,D:float,d:float)->float HB=2P/(π D (D-√(D^2-d^2))).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["HB=brinell_hardness(3000,10,5); assert HB>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_cost_flow_simple(n:int,edges:list[tuple[int,int,int,int]],s:int,t:int,F:int)->int min cost to send F flow (small graphs).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=min_cost_flow_simple(3,[(0,1,2,1),(1,2,2,1),(0,2,1,5)],0,2,2); assert c==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement unification_first_order(term1,term2)->dict|None for terms built from variables (strings starting with '?'), constants, and functors f(args...). Occurs check required.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=unification_first_order(('f',['?x','a']),('f',['b','?y'])); assert u=={'?x':'b','?y':'a'}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bhattacharyya_distance_gaussian_1d(mu0:float,s0:float,mu1:float,s1:float)->float.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["d=bhattacharyya_distance_gaussian_1d(0,1,1,1); assert 0<d<1.0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_mountain_removals(nums:list[int])->int returning the minimum removals to make nums a mountain array (strictly up then strictly down).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_mountain_removals([2,1,1,5,6,2,3,1])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine snake_to_camel(s:str)->str converting snake_case to lowerCamelCase. Print snake_to_camel('hello_world').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert snake_to_camel('hello_world')=='helloWorld'", "assert snake_to_camel('make_it_work')=='makeItWork'"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine wasserstein_barycenter_1d(samples:list[list[float]])->list[float] pointwise median of sorted samples (equal weights).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["b=wasserstein_barycenter_1d([[0,1,2],[0,2,4]]); assert b==[0,1.5,3.0]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine toeplitz_solve(c:list[float],r:list[float],b:list[float])->list[float] Levinson recursion (Hermitian Toeplitz).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["x=toeplitz_solve([1,0.5],[1,0.5],[1,0]); assert len(x)==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine integer_sqrt(n:int)->int returning floor(sqrt(n)) for n>=0. Print integer_sqrt(10).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert integer_sqrt(10)==3", "assert integer_sqrt(16)==4", "assert integer_sqrt(0)==0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts(n:int,edges:list[tuple[int,int]])->int returning the number of topological orders of a DAG (n<=15).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts(4,[(0,1),(0,2),(1,3),(2,3)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine rearrange_barcodes(barcodes:list[int])->list[int] rearrange to avoid adjacent equals.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["res=rearrange_barcodes([1,1,1,2,2,3]); assert all(res[i]!=res[i+1] for i in range(len(res)-1))"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_subarray(nums:list)->int (Kadane's algorithm). Print max_subarray([-2,1,-3,4,-1,2,1,-5,4]).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_subarray([-2,1,-3,4,-1,2,1,-5,4])==6", "assert max_subarray([1])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine network_resilience_percolation(adj:list[list[int]],remove_prob:float,seed:int=0)->float simulate node removal; return fraction of nodes in largest component averaged over 20 trials.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=network_resilience_percolation([[1,2],[0,2],[0,1]],0.1,seed=0); assert 0.5<f<=1.0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bernoulli_velocity(delta_p:float,rho:float)->float using v=sqrt(2ΔP/ρ).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert abs(bernoulli_velocity(4905,1000)-3.13209195)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine quadratic_sieve_trial(n:int)->list[int] very small quadratic sieve/trial division hybrid to factor semi-primes up to ~1e10 in tests; return factors any order.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["fs=sorted(quadratic_sieve_trial(1000003*1000033)); assert fs==[1000003,1000033]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_make_k_consecutive(nums:list[int],k:int])->int minimal adjacent swaps to group k ones (different name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_make_k_consecutive([1,0,0,1,0,1],2)==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine word_dictionary_regex supporting addWord(word) and search(pattern) where '.' matches any char (Trie+DFS). Return nothing; only implement class.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["wd=word_dictionary_regex(); wd.addWord('bad'); wd.addWord('dad'); wd.addWord('mad'); assert not wd.search('pad') and wd.search('bad') and wd.search('.ad') and wd.search('b..')"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine my_atoi64(s:str)->int parse 64-bit signed integer with spaces, sign, digits; clamp to [-2^63,2^63-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert my_atoi64('   -42')==-42 and my_atoi64('91283472332')==9223372036854775807"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine shortest_path_with_elimination(grid:list[list[int]],k:int)->int shortest path from (0,0) to (n-1,m-1) where up to k obstacles can be eliminated (4-dir BFS).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert shortest_path_with_elimination([[0,1,1],[1,1,0],[1,1,0]],1)==6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine shortest_path_with_portals(n:int,edges:list[tuple[int,int,int]],portals:list[tuple[int,int]])->int edges weighted; portals are zero-cost teleports between nodes (bidirectional).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert shortest_path_with_portals(4,[(0,1,1),(1,2,1),(2,3,1)],[(0,2)])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine bernoulli_naive_bayes_train(X:list[list[int]],y:list[int])->tuple[list[float],list[list[float]]] return class priors and feature likelihoods with Laplace smoothing (binary features).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["pri,lik=bernoulli_naive_bayes_train([[1,0],[1,1],[0,1],[0,0]],[0,0,1,1]); assert len(pri)==2 and len(lik)==2 and len(lik[0])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_adjacent_swaps_grouping_letters(s:str)->int minimal swaps to group identical letters together (choose best letter).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_adjacent_swaps_grouping_letters('aabbaa')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine kth_order_statistic_pst(nums:list[int],queries:list[tuple[int,int,int]])->list[int] using a persistent segment tree over values. Query (l,r,k) returns k-th smallest in nums[l..r].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["nums=[5,1,2,3,4]; qs=[(1,3,2),(0,4,3)]; assert kth_order_statistic_pst(nums,qs)==[2,3]"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_subarrays_with_median(nums:list[int],k:int)->int count subarrays where median equals k.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_subarrays_with_median([3,2,1,4,5],4)==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimum_time_difference_circular(times:list[str])->int minimum minutes difference on circular clock (variant name).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimum_time_difference_circular(['23:59','00:00'])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement ecdsa_sign_verify(p:int,a:int,b:int,G:tuple[int,int],n:int,priv:int,msg:int)->tuple[sig_valid:bool] using deterministic nonce k=hash(msg)%n+1 (use simple hash: msg%1_000_003). Return True if verify works.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["p=97;a=2;b=3; G=(3,6); n=5*19 # pretend\nok=ecdsa_sign_verify(p,a,b,G,n,7,42); assert ok"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine max_envelopes(envelopes:list[tuple[int,int]])->int (Russian Doll Envelopes).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert max_envelopes([(5,4),(6,4),(6,7),(2,3)])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine hopcroft_karp(U:int,V:int,edges:list[tuple[int,int]])->int computing maximum bipartite matching size for left vertices [0..U-1] and right [0..V-1].<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["m=hopcroft_karp(3,3,[(0,0),(0,1),(1,1),(2,2)]); assert m==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine sprague_grundy_graph_game(n:int,moves:list[list[int]])->int Grundy of starting node 0 where moves[u] lists next nodes (DAG).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert sprague_grundy_graph_game(3,[[1,2],[2],[]])==1"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_palindromic_subsequence(s:str)->int.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_palindromic_subsequence('bbbab')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement newton_backtracking_line_search(f,grad,hess,x0:list[float])->list[float] improve Newton with Armijo backtracking for small 2D convex f.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["f=lambda x:(x[0]-1)**2+2*(x[1]+2)**2; g=lambda x:[2*(x[0]-1),4*(x[1]+2)]; H=lambda x:[[2,0],[0,4]]; x=newton_backtracking_line_search(f,g,H,[0.0,0.0]); assert abs(x[0]-1)<1e-6 and abs(x[1]+2)<1e-6"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine expected_rolls_to_get_sequence(seq:list[int],sides:int)->float expected rolls to see sequence as consecutive outcomes (Aho automaton with DP).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["E=expected_rolls_to_get_sequence([1,2,3],6); assert E>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_falling_path_sum_no_adjacent_col(mat:list[list[int]])->int choose one element per row; adjacent rows cannot use same column.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert min_falling_path_sum_no_adjacent_col([[1,2,3],[1,2,3],[3,3,1]])==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine brinell_hardness(P:float,D:float,d:float)->float HB=2P/(π D (D-√(D^2-d^2))).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["HB=brinell_hardness(3000,10,5); assert HB>0"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine min_cost_flow_simple(n:int,edges:list[tuple[int,int,int,int]],s:int,t:int,F:int)->int min cost to send F flow (small graphs).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=min_cost_flow_simple(3,[(0,1,2,1),(1,2,2,1),(0,2,1,5)],0,2,2); assert c==3"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement unification_first_order(term1,term2)->dict|None for terms built from variables (strings starting with '?'), constants, and functors f(args...). Occurs check required.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["u=unification_first_order(('f',['?x','a']),('f',['b','?y'])); assert u=={'?x':'b','?y':'a'}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine four_sum_count_zero(A:list[int],B:list[int],C:list[int],D:list[int])->int counting tuples with A[i]+B[j]+C[k]+D[l]==0.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert four_sum_count_zero([1,2],[-2,-1],[-1,2],[0,2])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine longest_valid_parentheses(s:str)->int returning the length of the longest valid parentheses substring. Print longest_valid_parentheses(')()())').<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert longest_valid_parentheses(')()())')==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nImplement suffix_automaton_distinct_substrings(s:str)->int using suffix automaton (SAM).<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert suffix_automaton_distinct_substrings('ababa')==9"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine closest_divisors(n:int)->tuple[int,int] two integers whose product is n+1 or n+2 and are closest.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert closest_divisors(8) in {(3,3),(2,5)}"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine LRUCache2(capacity:int) with get/put like classic LRU.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["c=LRUCache2(2); c.put(1,1); c.put(2,2); assert c.get(1)==1; c.put(3,3); assert c.get(2)==-1; c.put(4,4); assert c.get(1)==-1 and c.get(3)==3 and c.get(4)==4"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine minimal_period(s:str)->int returning smallest p such that s is repeats of prefix length p.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert minimal_period('ababab')==2"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine simulated_annealing_optimize(f,x0:float,T0:float,cooling:float,iters:int,seed:int=0)->float SA in 1D with Gaussian steps; return best x.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["import math; x=simulated_annealing_optimize(lambda x: -(x-3)**2, 0.0, 1.0, 0.99, 1000,seed=1); assert abs(x-3.0)<0.5"], "timeout_s": 2, "memory_mb": 256}
{"prompt": "<|begin_of_text|><|start_header_id|>system<|end_header_id|>\n\nEnable deep thinking subroutine.\n\nYou are a careful engineer.\nYou solve programming puzzles only by writing Python code.\n\nRESPONSE FORMAT (hard requirements):\n1) Output exactly one fenced Python code block, nothing else.\n   - The opening line must be ```python and the closing line must be ``` on its own line.\n   - The code must define exactly the function requested by the user with the correct signature.\n   - Use only the Python standard library.\n2) After the code block, output one line: Final answer: <short summary>.\n3) Do NOT output explanations, analysis, comments, or any scratchpad text.\n4) Do NOT output any hidden reasoning markup. Never emit tags such as <think> or similar.<|eot_id|><|start_header_id|>user<|end_header_id|>\n\nDefine count_topo_sorts_mod(n:int,edges:list[tuple[int,int]],mod:int=10**9+7)->int for n<=20 using DP over subsets, modulo mod.<|eot_id|><|start_header_id|>assistant<|end_header_id|>\n\n", "tests": ["assert count_topo_sorts_mod(3,[(0,1),(0,2)])==2"], "timeout_s": 2, "memory_mb": 256}
